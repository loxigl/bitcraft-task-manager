# โ ะฃัะฟะตัะฝะฐั ะธะฝัะตะณัะฐัะธั ััะพะฝัะตะฝะดะฐ ั ะฑัะบะตะฝะดะพะผ

## ๐ฏ ะัะพะฑะปะตะผะฐ ะธ ัะตัะตะฝะธะต

### โ ะัะพะฑะปะตะผะฐ:
ะคัะพะฝัะตะฝะด ะฒ Docker ะบะพะฝัะตะนะฝะตัะต ะฟัะพะดะพะปะถะฐะป ะธัะฟะพะปัะทะพะฒะฐัั `localhost:5000` ะดะปั API ะทะฐะฟัะพัะพะฒ, ััะพ ะฝะต ัะฐะฑะพัะฐะปะพ, ะฟะพัะบะพะปัะบั:
1. ะะตัะตะผะตะฝะฝัะต `NEXT_PUBLIC_*` ะฒัััะฐะธะฒะฐัััั ะฒ ะบะพะด ะฝะฐ ััะฐะฟะต **ัะฑะพัะบะธ** (build time)
2. ะะตัะตะผะตะฝะฝัะต ะฒ ัะตะบัะธะธ `environment` docker-compose ะดะพัััะฟะฝั ัะพะปัะบะพ ะฒะพ ะฒัะตะผั **ะฒัะฟะพะปะฝะตะฝะธั** (runtime)

### โ ะะตัะตะฝะธะต:
ะะตัะตะดะฐัะฐ ะฟะตัะตะผะตะฝะฝัั ะพะบััะถะตะฝะธั ะบะฐะบ **build arguments** ะฒ docker-compose.yml:

```yaml
frontend:
  build:
    context: ../frontend
    dockerfile: Dockerfile
    args:
      NEXT_PUBLIC_API_URL: /api  # โ ะะปััะตะฒะพะต ะธัะฟัะฐะฒะปะตะฝะธะต
```

ะ ะพะฑะฝะพะฒะปะตะฝะธะต Dockerfile ะดะปั ะฟัะธะตะผะฐ build arguments:
```dockerfile
# ะัะธะฝะธะผะฐะตะผ build arguments
ARG NEXT_PUBLIC_API_URL
ENV NEXT_PUBLIC_API_URL=$NEXT_PUBLIC_API_URL
```

## โ ะัะพะฒะตัะบะฐ ััะฟะตัะฝะพััะธ

### ๐ ะ JavaScript ะบะพะดะต:
```bash
curl -s "http://localhost/_next/static/chunks/954-89c8361e62f85ed9.js" | grep -o '/api'
# ะะตะทัะปััะฐั: /api โ

curl -s "http://localhost/_next/static/chunks/954-89c8361e62f85ed9.js" | grep -c "localhost"  
# ะะตะทัะปััะฐั: 0 (localhost ะฝะต ะฝะฐะนะดะตะฝ) โ
```

### ๐ API ัะฐะฑะพัะฐะตั:
```bash
curl -s http://localhost/api/users
# ะะตะทัะปััะฐั: {"success":true,"data":[...]} โ
```

## ๐๏ธ ะััะธัะตะบัััะฐ ัะธััะตะผั

```
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
โ   ะัะฐัะทะตั       โ    โ   Nginx Proxy   โ    โ   Backend API   โ
โ                 โโโโโโ                 โโโโโโ                 โ
โ localhost:80    โ    โ /api/* โ :5000  โ    โ localhost:5000  โ
โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ    โโโโโโโโโโโโโโโโโโโ
                                 โ
                       โโโโโโโโโโโโโโโโโโโ
                       โ   Frontend      โ
                       โ                 โ
                       โ localhost:3000  โ
                       โโโโโโโโโโโโโโโโโโโ
```

## ๐ ะขะตะบััะธะน ััะฐััั

### โ ะัะต ัะตัะฒะธัั ัะฐะฑะพัะฐัั:
- **Frontend**: http://localhost (ัะตัะตะท nginx)
- **Backend**: ะะฝัััะตะฝะฝะธะน ะฟะพัั 5000 
- **MongoDB**: localhost:27017
- **Nginx**: ะัะพะบัะธ ะฝะฐ ะฟะพััั 80

### ๐ฅ ะขะตััะพะฒัะต ะดะฐะฝะฝัะต:
- **Marcus the Woodsman** (Carpentry: 75, Forestry: 60)
- **Lyra Moonweaver** (Fishing: 85, Foraging: 55)

## ๐ฏ ะะพัะพะฒะพ ะบ ะธัะฟะพะปัะทะพะฒะฐะฝะธั!

ะขะตะฟะตัั ััะพะฝัะตะฝะด:
- โ ะัะฟะพะปัะทัะตั ัะตะฐะปัะฝัะน backend API (ะฝะต ะผะพะบะพะฒัะต ะดะฐะฝะฝัะต)
- โ ะัะฐะฒะธะปัะฝะพ ัะฐะฑะพัะฐะตั ะฒ Docker ะพะบััะถะตะฝะธะธ
- โ ะัะฟะพะปัะทัะตั nginx ะฟัะพะบัะธ ะดะปั API ะทะฐะฟัะพัะพะฒ
- โ ะะพัะพะฒ ะบ production deployment

### ๐ ะะฐะฟััะบ ัะธััะตะผั:
```bash
cd deployment
docker-compose up --build
```

### ๐ ะะพัััะฟ:
- ะะตะฑ-ะธะฝัะตััะตะนั: http://localhost
- API: http://localhost/api/*

### ๐ ะขะตััะพะฒัะน ะฒัะพะด:
ะัะฟะพะปัะทัะนัะต ะธะผั "Marcus the Woodsman" ะธะปะธ "Lyra Moonweaver" ะดะปั ะฒัะพะดะฐ ะฒ ัะธััะตะผั.

---

**ะะฝัะตะณัะฐัะธั ััะพะฝัะตะฝะดะฐ ั ะฑัะบะตะฝะดะพะผ ะธ Docker ััะฟะตัะฝะพ ะทะฐะฒะตััะตะฝะฐ!** ๐ 